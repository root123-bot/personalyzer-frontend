(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{3622:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preview",function(){return t(6600)}])},6600:function(e,s,t){"use strict";t.r(s);var a=t(4111),r=t(7568),n=t(1438),i=t(2951),c=t(4924),o=t(8029),l=t(5950),d=t(4051),p=t.n(d),u=t(5893),h=t(7294),m=t(4443),x=(t(5196),t(6245)),j=t(8005),g=t(5150),f=t(8156),v=t(967),N=t(793),b=t.n(N),y=t(1163),_=t.n(y),w=t(8286),P=t(8494),C=(t(933),t(8116)),S=(t(92),t(9846),t(8770),t(5152)),Z=t.n(S)()((function(){return t.e(852).then(t.t.bind(t,1852,23))}),{loadableGenerated:{webpack:function(){return[1852]}},ssr:!1}),k=function(e){(0,o.Z)(t,e);var s=(0,l.Z)(t);function t(e){var i;(0,n.Z)(this,t),i=s.call(this,e),(0,c.Z)((0,a.Z)(i),"state",{isAunthenticated:!1,selectedProp:"",customValue:"",index:1,productQuantity:1,selectedObjPrice:0,productPrice:0,secondPropsAttributeValue:""});var o=(0,a.Z)(i);return(0,c.Z)((0,a.Z)(i),"addToCart",function(){var e=(0,r.Z)(p().mark((function e(s){var t,a,r,n,i,c,l,d,u,h,m,j,g,f,v,N;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),console.log("Im adding something to cart.."),e.next=4,o.executingTokenLogics();case 4:if(o.state.isAunthenticated){e.next=8;break}return console.log("You're anonymous user."),_().push({pathname:"/login",query:{flag:"/preview",productId:o.props.product}}),e.abrupt("return");case 8:console.log("You've been authenticated."),t=localStorage.getItem("authTokens"),a=JSON.parse(t),r=a.access,n="";try{n=(0,x.Z)(r)}catch(p){o.uwanja.current&&(o.uwanja.current.value="",o.setState({customValue:""}))}return i=n.user_id,c=o.props.product,l=o.state.selectedObjPrice,d=o.state.productQuantity,u=o.state.selectedProp,h=o.state.secondPropsAttributeValue,m=o.state.customValue,console.log("This is data i need to post.."),console.log(c,l,d,u,m),e.next=25,fetch("".concat(w.Z,"/api/cartExistOrNot/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:i,productId:c,price:l,quantity:d,customization:m,value:u,secondValue:h})});case 25:return j=e.sent,e.next=28,j.json();case 28:if(0!=(g=e.sent).status){e.next=50;break}return e.prev=30,e.next=33,fetch("".concat(w.Z,"/api/carts/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,productId:c,price:l,quantity:d,customization:m,value:u,secondValue:h})});case 33:return f=e.sent,e.next=36,f.json();case 36:v=e.sent,console.log("Hey this is the response from the server"),console.log(v),o.uwanja.current&&(o.uwanja.current.value="",o.setState({customValue:""})),console.log("This is success for you..."),o.err1.current.style.display="block",o.successInterval=setTimeout((function(){o.err1.current.style.display="none"}),5e3),e.next=48;break;case 45:e.prev=45,e.t0=e.catch(30),o.uwanja.current&&(o.uwanja.current.value="",o.setState({customValue:""}));case 48:e.next=51;break;case 50:console.log("No need to create a new cart you have one for you...."),N=g.cart,console.log("Hey this is cart by our user...."),console.log(N),console.log("Even ma mama thinks that my mind has gone"),o.err1.current.style.display="block",o.successInterval=setTimeout((function(){o.err1.current.style.display="none"}),5e3),o.uwanja.current&&(o.uwanja.current.value="",o.setState({customValue:""}));case 51:case"end":return e.stop()}}),e,null,[[30,45]])})));return function(s){return e.apply(this,arguments)}}()),(0,c.Z)((0,a.Z)(i),"executingTokenLogics",(function(){try{var e=localStorage.getItem("authTokens")?JSON.parse(localStorage.getItem("authTokens")):null;if(!e)return console.log("You needed to login, no records"),void i.setState({isAunthenticated:!1});var s=(0,x.Z)(e.refresh).exp;console.log("Hey this is the expire date of the refreshToken"),console.log(s),console.log("Lets try to access the json access token"),console.log(e.access);var t=(0,x.Z)(e.access);console.log("This is expiring time for you..."),console.log(t);var a=t.exp;if(console.log(a),1e3*a-Date.now()<1){if(console.log("Hey we need to either update or make user login again"),1e3*s-Date.now<1)return console.log("Even ur refresh token has already been expired we need you to login again...."),void i.setState({isAunthenticated:!1});console.log("Our refresh token is alive you should use it to update your access token"),i.updateToken(e.refresh),i.setState({isAunthenticated:!0})}else i.setState({isAunthenticated:!0})}catch(r){console.log(r.message),console.log("Invalid token specified since, when the token is expired the jwt automatically change your storage and it ill look like this"),i.setState({isAunthenticated:!1})}})),(0,c.Z)((0,a.Z)(i),"updateToken",function(){var e=(0,r.Z)(p().mark((function e(s){var t,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w.Z,"/api/token/refresh/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:s})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,localStorage.setItem("authTokens",JSON.stringify(a));case 7:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}()),(0,c.Z)((0,a.Z)(i),"detectIndexOfImageOnPreview",(function(){var e=i.imageConte.current.src.substr(21),s=i.props.data.get_urls.indexOf(e);console.log("This is imageIndex for you ",s),i.setState({index:s+1})})),(0,c.Z)((0,a.Z)(i),"next",(function(){console.log(i.props.data.get_urls);var e=i.props.data.get_urls.indexOf(i.imageConte.current.src.substr(21));console.log("This is the index of image in action...",e),e+1===i.props.data.get_urls.length?(console.log("Your the last image..."),i.imageConte.current.src="".concat(w.Z).concat(i.props.data.get_urls[0])):(console.log("Your not the last image..."),i.imageConte.current.src="".concat(w.Z).concat(i.props.data.get_urls[e+1])),i.detectIndexOfImageOnPreview()})),(0,c.Z)((0,a.Z)(i),"prev",(function(){console.log(i.props.data.get_urls),console.log(i.props.data.get_urls);var e=i.props.data.get_urls.indexOf(i.imageConte.current.src.substr(21));console.log("This is the index of image in action...",e),0===e?(console.log("Your the first image..."),i.imageConte.current.src="".concat(w.Z).concat(i.props.data.get_urls[i.props.data.get_urls.length-1])):(console.log("Your not the first image..."),i.imageConte.current.src="".concat(w.Z).concat(i.props.data.get_urls[e-1])),i.detectIndexOfImageOnPreview()})),(0,c.Z)((0,a.Z)(i),"onIncrease",(function(){i.setState({productQuantity:i.state.productQuantity+1}),i.setState({selectedObjPrice:i.state.selectedObjPrice+i.state.productPrice})})),(0,c.Z)((0,a.Z)(i),"onDecrease",(function(){i.state.productQuantity>1&&(i.setState({productQuantity:i.state.productQuantity-1}),i.setState({selectedObjPrice:i.state.selectedObjPrice-i.state.productPrice}))})),i.initialProp=h.createRef(),i.imageConte=h.createRef(),i.err1=h.createRef(),i.uwanja=h.createRef(),i}return(0,i.Z)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.successInterval)}},{key:"componentDidMount",value:function(){var e=this;return(0,r.Z)(p().mark((function s(){var t;return p().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e.executingTokenLogics(),(t=e.props.data).hasPropertySelection?e.setState({selectedProp:Object.values(t.map_property[0])[0],selectedObjPrice:t.price,productPrice:t.price}):e.setState({selectedObjPrice:t.price,productPrice:t.price}),t.hasSecondPropertySelection&&e.setState({secondPropsAttributeValue:Object.values(t.map_secondProps[0])[0]});case 4:case"end":return s.stop()}}),s)})))()}},{key:"render",value:function(){var e=this;return(0,u.jsx)(m.Z,{isAunthenticated:this.state.isAunthenticated,children:(0,u.jsxs)("div",{children:[(0,u.jsx)(Z,{minWidth:200,maxWidth:400,children:(0,u.jsxs)("div",{className:b().odb,children:[this.props.data.get_urls.length>1?(0,u.jsx)(P.tq,{modules:[C.W_,C.xW,C.tl],navigation:!0,effect:"fade",speed:300,slidesPerView:1,loop:!0,className:b().myswiper,pagination:{clickable:!0},children:this.props.data.get_urls.map((function(e){return(0,u.jsx)(P.o5,{children:(0,u.jsx)("img",{src:"".concat(w.Z).concat(e),className:b().ima,height:280},e)})}))}):(0,u.jsx)("img",{className:b().ima,ref:this.imageConte,src:"".concat(w.Z).concat(this.props.data.get_urls[0]),height:280}),(0,u.jsxs)("div",{className:b().tit,children:[(0,u.jsx)("p",{className:b().main,children:this.props.data.title}),(0,u.jsx)("span",{className:b().sub,children:this.props.data.description}),(0,u.jsx)("hr",{})]}),(0,u.jsxs)("div",{className:b().priQuan,children:[(0,u.jsxs)(j.Z,{children:[(0,u.jsxs)(j.Z.Column,{width:8,children:[(0,u.jsx)("p",{className:b().price,children:"Price:"}),(0,u.jsx)(Z,{minWidth:200,maxWidth:349,children:(0,u.jsx)("span",{className:b().beiNdogo,children:"".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"Tsh",minimumFractionDigits:0}).format(parseInt(this.state.selectedObjPrice)))})}),(0,u.jsx)(Z,{minWidth:350,children:(0,u.jsx)("span",{className:b().bei,children:"".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"Tsh",minimumFractionDigits:0}).format(parseInt(this.state.selectedObjPrice)))})})]}),(0,u.jsxs)(j.Z.Column,{width:8,children:[(0,u.jsxs)("p",{className:b().qua,children:["Quantity:"," ",(0,u.jsx)("span",{className:b().namba,children:this.state.productQuantity})]}),(0,u.jsxs)("div",{className:b().amountWrapper,children:[(0,u.jsx)("span",{className:b().plus,onClick:this.onDecrease,children:(0,u.jsx)(g.Z,{size:"small",name:"minus"})}),(0,u.jsx)("span",{className:b().actualAmount,children:this.state.productQuantity}),(0,u.jsx)("span",{className:b().minus,onClick:this.onIncrease,children:(0,u.jsx)(g.Z,{size:"small",name:"plus"})})]})]})]}),(0,u.jsx)("hr",{})]}),(0,u.jsxs)("div",{className:b().customizations,children:[!1===this.props.data.hasPropertySelection&&!1===this.props.data.isCustomized&&!1===this.props.data.hasSecondPropertySelection?(0,u.jsx)(u.Fragment,{children:" "}):(0,u.jsxs)("div",{className:b().holder,children:[(0,u.jsx)("p",{className:b().custom,children:"User Customizations"}),(0,u.jsx)("hr",{className:b().ch}),(0,u.jsxs)(j.Z,{children:[this.props.data.hasPropertySelection?(0,u.jsx)(j.Z.Column,{width:9,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{className:b().pName,children:[Object.keys(this.props.data.map_property[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,name:Object.values(this.props.data.map_property[0])[0],style:{fontSize:"12px"},ref:this.initialProp,children:this.state.selectedProp.length>10?this.state.selectedProp.substr(0,9)+"..":this.state.selectedProp}),(0,u.jsx)("div",{className:b().radioContainer,children:this.props.data.property_values.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"property",checked:e.state.selectedProp===s,onChange:function(){return e.setState({selectedProp:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))})]})}):(0,u.jsx)(u.Fragment,{}),this.props.data.hasSecondPropertySelection?(0,u.jsx)(j.Z.Column,{width:7,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsxs)("span",{className:b().pName,style:{fontSize:"15px"},children:[Object.keys(this.props.data.map_secondProps[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,style:{fontSize:"12px"},children:this.state.secondPropsAttributeValue.length>7?this.state.secondPropsAttributeValue.substr(0,6)+"..":this.state.secondPropsAttributeValue})]}),this.props.data.second_propsValue.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"propa",checked:e.state.secondPropsAttributeValue===s,onChange:function(){return e.setState({secondPropsAttributeValue:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))]})}):(0,u.jsx)(u.Fragment,{})]}),this.props.data.isCustomized?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:b().text,children:[(0,u.jsx)("p",{className:b().head,children:"Customize product's image/text."}),(0,u.jsxs)("p",{className:b().ason,children:["*** Leave blank to use default one.",(0,u.jsx)("br",{}),"*** In case of image write a web link to that image"]}),(0,u.jsx)(Z,{minWidth:200,maxWidth:340,children:(0,u.jsx)("textarea",{row:2,cols:30,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})}),(0,u.jsx)(Z,{minWidth:341,maxWidth:360,children:(0,u.jsx)("textarea",{row:2,cols:40,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})}),(0,u.jsx)(Z,{minWidth:361,maxWidth:380,children:(0,u.jsx)("textarea",{row:2,cols:39,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})}),(0,u.jsx)(Z,{minWidth:381,children:(0,u.jsx)("textarea",{row:2,cols:40,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})})]})}):(0,u.jsx)(u.Fragment,{})]}),(0,u.jsx)("div",{className:b().err1,ref:this.err1,children:(0,u.jsxs)(f.Z,{success:!0,size:"mini",children:[(0,u.jsx)(f.Z.Header,{children:"Success, Item has been added to cart"}),(0,u.jsx)(g.Z,{name:"warning sign"}),"Click the cart icon above to preview your cart."]})}),(0,u.jsx)("div",{style:{marginBottom:"2%"},children:(0,u.jsxs)(v.Z,{animated:!0,primary:!0,size:"medium",fluid:!0,onClick:this.addToCart,children:[(0,u.jsx)(v.Z.Content,{visible:!0,children:"Add to Cart"}),(0,u.jsx)(v.Z.Content,{hidden:!0,children:(0,u.jsx)(g.Z,{name:"shop"})})]})})]})]})}),(0,u.jsx)(Z,{minWidth:401,maxWidth:576,children:(0,u.jsxs)("div",{className:b().odb,children:[this.props.data.get_urls.length>1?(0,u.jsx)(P.tq,{modules:[C.W_,C.xW,C.tl],navigation:!0,effect:"fade",speed:300,slidesPerView:1,loop:!0,className:b().myswiper,pagination:{clickable:!0},children:this.props.data.get_urls.map((function(e){return(0,u.jsx)(P.o5,{children:(0,u.jsx)("img",{src:"".concat(w.Z).concat(e),className:b().ima,height:350},e)})}))}):(0,u.jsx)("img",{className:b().ima,ref:this.imageConte,src:"".concat(w.Z).concat(this.props.data.get_urls[0]),height:350}),(0,u.jsxs)("div",{className:b().tit,children:[(0,u.jsx)("p",{className:b().main,children:this.props.data.title}),(0,u.jsx)("span",{className:b().sub,children:this.props.data.description}),(0,u.jsx)("hr",{})]}),(0,u.jsxs)("div",{className:b().priQuan,children:[(0,u.jsxs)(j.Z,{children:[(0,u.jsxs)(j.Z.Column,{width:8,children:[(0,u.jsx)("p",{className:b().price,children:"Price:"}),(0,u.jsx)("span",{className:b().bei,children:"".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"Tsh",minimumFractionDigits:0}).format(parseInt(this.state.selectedObjPrice)))})]}),(0,u.jsxs)(j.Z.Column,{width:8,children:[(0,u.jsxs)("p",{className:b().qua,children:["Quantity:"," ",(0,u.jsx)("span",{className:b().namba,children:this.state.productQuantity})]}),(0,u.jsxs)("div",{className:b().amountWrapper,children:[(0,u.jsx)("span",{className:b().plus,onClick:this.onDecrease,children:(0,u.jsx)(g.Z,{size:"small",name:"minus"})}),(0,u.jsx)("span",{className:b().actualAmount,children:this.state.productQuantity}),(0,u.jsx)("span",{className:b().minus,onClick:this.onIncrease,children:(0,u.jsx)(g.Z,{size:"small",name:"plus"})})]})]})]}),(0,u.jsx)("hr",{})]}),(0,u.jsxs)("div",{className:b().customizations,children:[!1===this.props.data.hasPropertySelection&&!1===this.props.data.isCustomized&&!1===this.props.data.hasSecondPropertySelection?(0,u.jsx)(u.Fragment,{children:" "}):(0,u.jsxs)("div",{className:b().holder,children:[(0,u.jsx)("p",{className:b().custom,children:"User Customizations"}),(0,u.jsx)("hr",{className:b().ch}),(0,u.jsxs)(j.Z,{children:[this.props.data.hasPropertySelection?(0,u.jsx)(j.Z.Column,{width:9,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{className:b().pName,children:[Object.keys(this.props.data.map_property[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,style:{fontSize:"13px"},children:this.state.selectedProp.length>12?this.state.selectedProp.substr(0,11)+"..":this.state.selectedProp}),(0,u.jsx)("div",{className:b().radioContainer,children:this.props.data.property_values.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"property",checked:e.state.selectedProp==s,onChange:function(){return e.setState({selectedProp:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))})]})}):(0,u.jsx)(u.Fragment,{}),this.props.data.hasSecondPropertySelection?(0,u.jsx)(j.Z.Column,{width:7,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsxs)("span",{className:b().pName,style:{fontSize:"15px"},children:[Object.keys(this.props.data.map_secondProps[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,style:{fontSize:"13px"},children:this.state.secondPropsAttributeValue.length>7?this.state.secondPropsAttributeValue.substr(0,6)+"..":this.state.secondPropsAttributeValue})]}),this.props.data.second_propsValue.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"propa",checked:e.state.secondPropsAttributeValue===s,onChange:function(){return e.setState({secondPropsAttributeValue:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))]})}):(0,u.jsx)(u.Fragment,{})]}),this.props.data.isCustomized?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:b().text,children:[(0,u.jsx)("p",{className:b().head,children:"Customize product's image/text."}),(0,u.jsxs)("p",{className:b().ason,children:["*** Leave blank to use default one.",(0,u.jsx)("br",{}),"*** In case of image write a web link to that image"]}),(0,u.jsx)(Z,{minWidth:401,maxWidth:450,children:(0,u.jsx)("textarea",{row:2,cols:40,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})}),(0,u.jsx)(Z,{minWidth:451,maxWidth:500,children:(0,u.jsx)("textarea",{row:2,cols:50,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})}),(0,u.jsx)(Z,{minWidth:501,maxWidth:576,children:(0,u.jsx)("textarea",{row:2,cols:56,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})})]})}):(0,u.jsx)(u.Fragment,{})]}),(0,u.jsx)("div",{className:b().err1,ref:this.err1,children:(0,u.jsxs)(f.Z,{success:!0,size:"mini",children:[(0,u.jsx)(f.Z.Header,{children:"Success, Item has been added to cart"}),(0,u.jsx)(g.Z,{name:"warning sign"}),"Click the cart icon above to preview your cart."]})}),(0,u.jsx)("div",{style:{marginBottom:"2%"},children:(0,u.jsxs)(v.Z,{animated:!0,primary:!0,size:"medium",fluid:!0,onClick:this.addToCart,children:[(0,u.jsx)(v.Z.Content,{visible:!0,children:"Add to Cart"}),(0,u.jsx)(v.Z.Content,{hidden:!0,children:(0,u.jsx)(g.Z,{name:"shop"})})]})})]})]})}),(0,u.jsx)(Z,{minWidth:577,maxWidth:899,children:(0,u.jsxs)("div",{className:b().odb,children:[this.props.data.get_urls.length>1?(0,u.jsx)(P.tq,{modules:[C.W_,C.xW,C.tl],navigation:!0,effect:"fade",speed:300,slidesPerView:1,loop:!0,className:b().myswiper,pagination:{clickable:!0},children:this.props.data.get_urls.map((function(e){return(0,u.jsx)(P.o5,{children:(0,u.jsx)("img",{src:"".concat(w.Z).concat(e),className:b().ima,height:450},e)})}))}):(0,u.jsx)("img",{className:b().ima,ref:this.imageConte,src:"".concat(w.Z).concat(this.props.data.get_urls[0]),height:450}),(0,u.jsxs)("div",{className:b().tit,children:[(0,u.jsx)("p",{className:b().main,children:this.props.data.title}),(0,u.jsx)("span",{className:b().sub,children:this.props.data.description}),(0,u.jsx)("hr",{})]}),(0,u.jsxs)("div",{className:b().priQuan,children:[(0,u.jsxs)(j.Z,{children:[(0,u.jsxs)(j.Z.Column,{width:8,children:[(0,u.jsx)("p",{className:b().price,children:"Price:"}),(0,u.jsx)("span",{className:b().bei,children:"".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"Tsh",minimumFractionDigits:0}).format(parseInt(this.state.selectedObjPrice)))})]}),(0,u.jsxs)(j.Z.Column,{width:8,children:[(0,u.jsxs)("p",{className:b().qua,children:["Quantity:"," ",(0,u.jsx)("span",{className:b().namba,children:this.state.productQuantity})]}),(0,u.jsxs)("div",{className:b().amountWrapper,children:[(0,u.jsx)("span",{className:b().plus,onClick:this.onDecrease,children:(0,u.jsx)(g.Z,{size:"small",name:"minus"})}),(0,u.jsx)("span",{className:b().actualAmount,children:this.state.productQuantity}),(0,u.jsx)("span",{className:b().minus,onClick:this.onIncrease,children:(0,u.jsx)(g.Z,{size:"small",name:"plus"})})]})]})]}),(0,u.jsx)("hr",{})]}),(0,u.jsxs)("div",{className:b().customizations,children:[!1===this.props.data.hasPropertySelection&&!1===this.props.data.isCustomized&&!1===this.props.data.hasSecondPropertySelection?(0,u.jsx)(u.Fragment,{children:" "}):(0,u.jsxs)("div",{className:b().holder,children:[(0,u.jsx)("p",{className:b().custom,children:"User Customizations"}),(0,u.jsx)("hr",{className:b().ch}),(0,u.jsxs)(Z,{maxWidth:699,children:[(0,u.jsxs)(j.Z,{children:[this.props.data.hasPropertySelection?(0,u.jsx)(j.Z.Column,{width:9,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{className:b().pName,children:[Object.keys(this.props.data.map_property[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,style:{fontSize:"14px"},children:this.state.selectedProp>18?this.state.selectedProp.substr(0,17)+"..":this.state.selectedProp}),(0,u.jsx)("div",{className:b().radioContainer,children:this.props.data.property_values.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"property",checked:e.state.selectedProp==s,onChange:function(){return e.setState({selectedProp:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))})]})}):(0,u.jsx)(u.Fragment,{}),this.props.data.hasSecondPropertySelection?(0,u.jsx)(j.Z.Column,{width:7,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsxs)("span",{className:b().pName,style:{fontSize:"15px"},children:[Object.keys(this.props.data.map_secondProps[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,style:{fontSize:"14px"},children:this.state.secondPropsAttributeValue.length>15?this.state.secondPropsAttributeValue.substr(0,14)+"..":this.state.secondPropsAttributeValue})]}),this.props.data.second_propsValue.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"propa",checked:e.state.secondPropsAttributeValue===s,onChange:function(){return e.setState({secondPropsAttributeValue:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))]})}):(0,u.jsx)(u.Fragment,{})]}),this.props.data.isCustomized?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:b().text,children:[(0,u.jsx)("p",{className:b().head,children:"Customize product's image/text."}),(0,u.jsxs)("p",{className:b().ason,children:["*** Leave blank to use default one.",(0,u.jsx)("br",{}),"*** In case of image write a web link to that image"]}),(0,u.jsx)("textarea",{row:2,cols:56,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})]})}):(0,u.jsx)(u.Fragment,{})]}),(0,u.jsx)(Z,{minWidth:700,children:this.props.data.hasPropertySelection&&this.props.data.secondPropsAttributeValue?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(j.Z,{children:[(0,u.jsxs)(j.Z.Column,{width:9,children:[(0,u.jsxs)("span",{className:b().pName,children:[Object.keys(this.props.data.map_property[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,children:this.state.selectedProp}),(0,u.jsx)("div",{className:b().radioContainer,children:this.props.data.property_values.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"property",checked:e.state.selectedProp==s,onChange:function(){return e.setState({selectedProp:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))})]}),(0,u.jsx)(j.Z.Column,{width:7,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsxs)("span",{className:b().pName,style:{fontSize:"15px"},children:[Object.keys(this.props.data.map_secondProps[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,style:{fontSize:"14px"},children:this.state.secondPropsAttributeValue.length>15?this.state.secondPropsAttributeValue.substr(0,14)+"..":this.state.secondPropsAttributeValue})]}),this.props.data.second_propsValue.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"propa",checked:e.state.secondPropsAttributeValue===s,onChange:function(){return e.setState({secondPropsAttributeValue:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))]})})]}),this.props.data.isCustomized?(0,u.jsxs)("div",{className:b().text,children:[(0,u.jsx)("p",{className:b().head,children:"Customize product's image/text."}),(0,u.jsxs)("p",{className:b().ason,children:["*** Leave blank to use default one.",(0,u.jsx)("br",{}),"*** In case of image write a web link to that image"]}),(0,u.jsx)(Z,{minWidth:700,maxWidth:800,children:(0,u.jsx)("textarea",{row:2,cols:45,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})}),(0,u.jsx)(Z,{minWidth:801,children:(0,u.jsx)("textarea",{row:2,cols:55,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})})]}):(0,u.jsx)(u.Fragment,{})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(j.Z,{children:[this.props.data.hasPropertySelection?(0,u.jsxs)(j.Z.Column,{width:7,children:[(0,u.jsxs)("span",{className:b().pName,children:[Object.keys(this.props.data.map_property[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,children:this.state.selectedProp}),(0,u.jsx)("div",{className:b().radioContainer,children:this.props.data.property_values.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"property",checked:e.state.selectedProp==s,onChange:function(){return e.setState({selectedProp:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))})]}):(0,u.jsx)(u.Fragment,{}),this.props.data.hasSecondPropertySelection?(0,u.jsx)(j.Z.Column,{width:7,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsxs)("span",{className:b().pName,style:{fontSize:"15px"},children:[Object.keys(this.props.data.map_secondProps[0])[0],":"]}),(0,u.jsx)("span",{className:b().pValue,style:{fontSize:"14px"},children:this.state.secondPropsAttributeValue.length>18?this.state.secondPropsAttributeValue.substr(0,17)+"..":this.state.secondPropsAttributeValue})]}),this.props.data.second_propsValue.map((function(s){return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:b().rad,type:"radio",id:s,name:"propa",checked:e.state.secondPropsAttributeValue===s,onChange:function(){return e.setState({secondPropsAttributeValue:s})}}),(0,u.jsx)("label",{className:b().label,htmlFor:s,children:s})]},s)}))]})}):(0,u.jsx)(u.Fragment,{}),this.props.data.isCustomized?(0,u.jsx)(j.Z.Column,{width:9,children:(0,u.jsxs)("div",{className:b().text,children:[(0,u.jsx)("p",{className:b().head,children:"Customize product's image/text."}),(0,u.jsxs)("p",{className:b().ason,children:["*** Leave blank to use default one.",(0,u.jsx)("br",{}),"*** In case of image write a web link to that image"]}),(0,u.jsx)(Z,{minWidth:700,maxWidth:800,children:(0,u.jsx)("textarea",{row:2,cols:45,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})}),(0,u.jsx)(Z,{minWidth:801,children:(0,u.jsx)("textarea",{row:2,cols:45,className:this.tarea,onChange:function(s){return e.setState({customValue:s.target.value})},ref:this.uwanja})})]})}):(0,u.jsx)(u.Fragment,{})]})})})]}),(0,u.jsx)("div",{className:b().err1,ref:this.err1,children:(0,u.jsxs)(f.Z,{success:!0,size:"mini",children:[(0,u.jsx)(f.Z.Header,{children:"Success, Item has been added to cart"}),(0,u.jsx)(g.Z,{name:"warning sign"}),"Click the cart icon above to preview your cart."]})}),(0,u.jsx)("div",{style:{marginBottom:"2%"},children:(0,u.jsxs)(v.Z,{animated:!0,primary:!0,size:"medium",fluid:!0,onClick:this.addToCart,children:[(0,u.jsx)(v.Z.Content,{visible:!0,children:"Add to Cart"}),(0,u.jsx)(v.Z.Content,{hidden:!0,children:(0,u.jsx)(g.Z,{name:"shop"})})]})})]})]})}),(0,u.jsx)(Z,{minWidth:900,children:"This page is only reserved for small screen devices ranging from 200px to 400px... So your device is out of bound"})]})})}}],[{key:"getInitialProps",value:function(e){return(0,r.Z)(p().mark((function s(){var t,a,r;return p().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.query.product,s.next=3,fetch("".concat(w.Z,"/api/product/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product:t})});case 3:return a=s.sent,s.next=6,a.json();case 6:return r=s.sent,s.abrupt("return",{data:r,product:t});case 8:case"end":return s.stop()}}),s)})))()}}]),t}(h.Component);s.default=k},793:function(e){e.exports={err1:"preview_err1__4ktDS",odb:"preview_odb__JXPvu",ima:"preview_ima__C71_g",pre:"preview_pre__5Epvd",nex:"preview_nex__EtAEV",imgNo:"preview_imgNo__SQmfS",tit:"preview_tit__nNlmo",main:"preview_main__fcHhW",sub:"preview_sub__tGPaD",priQuan:"preview_priQuan__LDn4W",price:"preview_price__fVgzF",beiNdogo:"preview_beiNdogo__a_wj_",bei:"preview_bei__tC2EU",qua:"preview_qua__Ur3WC",namba:"preview_namba__X_jbn",amountWrapper:"preview_amountWrapper__M6yo6",actualAmount:"preview_actualAmount__b698G",plus:"preview_plus__r7H1l",minus:"preview_minus__KoG3N",customizations:"preview_customizations__rJn_H",holder:"preview_holder__oDKSE",custom:"preview_custom__M_xWC",ch:"preview_ch__mgjNa",pName:"preview_pName__2MKb_",pValue:"preview_pValue__8W1Kd",radioContainer:"preview_radioContainer__prN1g",label:"preview_label___YSDY",rad:"preview_rad__h4HZC",text:"preview_text__bn4ej",head:"preview_head__FF57P",ason:"preview_ason__Vvtoh"}}},function(e){e.O(0,[643,967,990,18,900,767,196,443,774,888,179],(function(){return s=3622,e(e.s=s);var s}));var s=e.O();_N_E=s}]);