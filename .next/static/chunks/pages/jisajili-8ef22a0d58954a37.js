(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{6368:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jisajili",function(){return s(5271)}])},5271:function(e,r,s){"use strict";s.r(r);var t=s(4111),n=s(7568),a=s(1438),i=s(2951),o=s(4924),c=s(8029),l=s(5950),u=s(4051),d=s.n(u),p=s(5893),h=s(7294),m=s(9008),f=s.n(m),j=s(2315),g=s.n(j),v=s(8156),x=s(5150),y=s(5152),b=s.n(y),Z=s(1163),N=s.n(Z),w=b()((function(){return s.e(852).then(s.t.bind(s,1852,23))}),{loadableGenerated:{webpack:function(){return[1852]}},ssr:!1}),_=function(e){(0,c.Z)(s,e);var r=(0,l.Z)(s);function s(e){var i;(0,a.Z)(this,s),i=r.call(this,e),(0,o.Z)((0,t.Z)(i),"state",{username:"",password:"",message:""});var c=(0,t.Z)(i);return(0,o.Z)((0,t.Z)(i),"register",function(){var e=(0,n.Z)(d().mark((function e(r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log("THEY EXECUTE ME.."),0!==c.state.username.trim().length&&0!==c.state.password.trim().length){e.next=10;break}return c.setState({message:"We don't accept empty field"}),c.errorContainer.current.style.display="block",c.errorShow=setTimeout((function(){c.errorContainer.current.style.display="none"}),5e3),c.user.current.value="",c.pass.current.value="",c.setState({username:"",password:""}),e.abrupt("return");case 10:if(!(c.state.password.trim().length<6)){e.next=18;break}return c.setState({message:"Shorter password, minimum is 6 characters"}),c.errorContainer.current.style.display="block",c.errorShow=setTimeout((function(){c.errorContainer.current.style.display="none"}),5e3),c.user.current.value="",c.pass.current.value="",c.setState({username:"",password:""}),e.abrupt("return");case 18:if(c.state.username.trim().includes("@")){e.next=26;break}return c.setState({message:"Wrong format of email"}),c.errorContainer.current.style.display="block",c.errorShow=setTimeout((function(){c.errorContainer.current.style.display="none"}),5e3),c.user.current.value="",c.pass.current.value="",c.setState({username:"",password:""}),e.abrupt("return");case 26:fetch("http://localhost:8000/api/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.state.username,password:c.state.password})}).then((function(e){return e.json()})).then((function(e){return e.err?(console.log(e.err),c.setState({message:"Failed!, user of this email already exist"}),c.errorContainer.current.style.display="block",c.errorShow=setTimeout((function(){c.errorContainer.current.style.display="none"}),5e3),c.user.current.value="",c.pass.current.value="",void c.setState({username:"",password:""})):e.error?(c.setState({message:"Failed!, Invalid data"}),c.errorContainer.current.style.display="block",c.errorShow=setTimeout((function(){c.errorContainer.current.style.display="none"}),5e3),c.user.current.value="",c.pass.current.value="",void c.setState({username:"",password:""})):(console.log("IF YOU ARE LIVING IN THE WORLD TODAY YOU WILL HEAR THE SLANG THAT WU TANG SAY..."),console.log("User has been created succesful..."),c.successContainer.current.style.display="block",void(c.loginTimeout=setTimeout((0,n.Z)(d().mark((function e(){var r,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("WE SHOULD LOGIN THIS USER"),console.log(c.state.username,c.state.password),e.next=4,fetch("http://127.0.0.1:8000/api/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.state.username,password:c.state.password})});case 4:return r=e.sent,e.next=7,r.json();case 7:if(s=e.sent,console.log("gza",s),200===r.status){e.next=11;break}return e.abrupt("return",console.log("Error in login... Bad creditials"));case 11:localStorage.setItem("authTokens",JSON.stringify(s)),c.successContainer.current.style.display="none",c.props.flag?N().push({pathname:c.props.flag,query:{product:c.props.productId}}):N().push({pathname:"/"});case 14:case"end":return e.stop()}}),e)}))),50)))}));case 27:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),(0,o.Z)((0,t.Z)(i),"login",(function(){i.props.flag?N().push({pathname:"/login",query:{flag:i.props.flag,productId:i.props.productId}}):N().push("login")})),i.errorContainer=h.createRef(),i.pass=h.createRef(),i.user=h.createRef(),i.successContainer=h.createRef(),i}return(0,i.Z)(s,[{key:"componentWillUnmount",value:function(){clearTimeout(this.errorShow),clearTimeout(this.loginTimeout)}},{key:"render",value:function(){var e=this;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(w,{minWidth:200,maxWidth:400,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(f(),{children:[(0,p.jsx)("title",{children:"PERSONALYZER"}),(0,p.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"}),(0,p.jsx)("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css"}),(0,p.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,p.jsxs)("div",{className:g().outer,children:[(0,p.jsx)("p",{className:g().hed,children:"Create account to get started."}),(0,p.jsx)("hr",{}),(0,p.jsx)("div",{className:g().divForm,children:(0,p.jsxs)("form",{onSubmit:this.register,autoComplete:"off",children:[(0,p.jsx)("p",{className:g().reg,onClick:this.login,children:"Already have account? Login"}),(0,p.jsx)("label",{className:g().lab,children:"email"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:g().inp,type:"text",ref:this.user,onChange:function(r){return e.setState({username:r.target.value})}}),(0,p.jsx)("br",{}),(0,p.jsx)("label",{className:g().lab1,children:"password"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:g().inp,type:"password",ref:this.pass,onChange:function(r){return e.setState({password:r.target.value})}}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:g().error,ref:this.errorContainer,children:(0,p.jsx)(v.Z,{error:!0,size:"mini",children:(0,p.jsxs)(v.Z.Header,{children:[(0,p.jsx)(x.Z,{name:"warning"}),this.state.message]})})}),(0,p.jsx)("div",{className:g().succe,ref:this.successContainer,children:(0,p.jsx)(v.Z,{success:!0,size:"mini",children:(0,p.jsx)(v.Z.Header,{children:"Account have been created succesful!"})})}),(0,p.jsx)("button",{type:"submit",className:g().sub,children:"Register here"})]})})]})]})}),(0,p.jsx)(w,{minWidth:401,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(f(),{children:[(0,p.jsx)("title",{children:"PERSONALYZER"}),(0,p.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"}),(0,p.jsx)("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css"}),(0,p.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,p.jsxs)("div",{className:g().outer,children:[(0,p.jsx)("p",{className:g().hed,children:"Create account to get started."}),(0,p.jsx)("hr",{}),(0,p.jsx)("div",{className:g().divForm,children:(0,p.jsxs)("form",{onSubmit:this.register,autoComplete:"off",children:[(0,p.jsx)("p",{className:g().reg,onClick:this.login,children:"Already have account? Login"}),(0,p.jsx)("label",{className:g().lab,children:"email"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:g().inp,type:"text",ref:this.user,onChange:function(r){return e.setState({username:r.target.value})}}),(0,p.jsx)("br",{}),(0,p.jsx)("label",{className:g().lab1,children:"password"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:g().inp,type:"password",ref:this.pass,onChange:function(r){return e.setState({password:r.target.value})}}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:g().error,ref:this.errorContainer,children:(0,p.jsx)(v.Z,{error:!0,size:"mini",children:(0,p.jsxs)(v.Z.Header,{children:[(0,p.jsx)(x.Z,{name:"warning"}),this.state.message]})})}),(0,p.jsx)("div",{className:g().succe,ref:this.successContainer,children:(0,p.jsx)(v.Z,{success:!0,size:"mini",children:(0,p.jsx)(v.Z.Header,{children:"Account have been created succesful!"})})}),(0,p.jsx)("button",{type:"submit",className:g().sub,children:"Register here"})]})})]})]})})]})}}],[{key:"getInitialProps",value:function(e){return(0,n.Z)(d().mark((function r(){var s,t,n;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=e.query,t=s.flag,n=s.productId,r.abrupt("return",{flag:t,productId:n});case 2:case"end":return r.stop()}}),r)})))()}}]),s}(h.Component);r.default=_},2315:function(e){e.exports={succe:"jisajili_succe__TEpC_",success:"jisajili_success__qXNn_",outer:"jisajili_outer__jZpOT",hed:"jisajili_hed__TSd1F",divForm:"jisajili_divForm__7l6AO",lab:"jisajili_lab__aX1HC",lab1:"jisajili_lab1__5jMaJ",reg:"jisajili_reg__NymXS",inp:"jisajili_inp__0_Ru4",forg:"jisajili_forg__Nqbl2",sub:"jisajili_sub___2XSf",error:"jisajili_error__Zihip"}},8156:function(e,r,s){"use strict";s.d(r,{Z:function(){return N}});var t=s(7462),n=s(5068),a=s(7601),i=s(6010),o=s(7294),c=s(8459),l=s(8935),u=s(2519),d=s(2248),p=s(9591),h=s(5150);function m(e){var r=e.children,s=e.className,n=e.content,a=(0,i.Z)("content",s),c=(0,l.Z)(m,e),p=(0,u.Z)(m,e);return o.createElement(p,(0,t.Z)({},c,{className:a}),d.kK(r)?n:r)}m.handledProps=["as","children","className","content"],m.propTypes={};var f=m;function j(e){var r=e.children,s=e.className,n=e.content,a=(0,i.Z)("header",s),c=(0,l.Z)(j,e),p=(0,u.Z)(j,e);return o.createElement(p,(0,t.Z)({},c,{className:a}),d.kK(r)?n:r)}j.handledProps=["as","children","className","content"],j.propTypes={},j.create=(0,p.u5)(j,(function(e){return{content:e}}));var g=j,v=s(3871);function x(e){var r=e.children,s=e.className,n=e.content,a=(0,i.Z)("content",s),c=(0,l.Z)(x,e),p=(0,u.Z)(x,e);return o.createElement(p,(0,t.Z)({},c,{className:a}),d.kK(r)?n:r)}x.handledProps=["as","children","className","content"],x.propTypes={},x.defaultProps={as:"li"},x.create=(0,p.u5)(x,(function(e){return{content:e}}));var y=x;function b(e){var r=e.children,s=e.className,n=e.items,a=(0,i.Z)("list",s),c=(0,l.Z)(b,e),p=(0,u.Z)(b,e);return o.createElement(p,(0,t.Z)({},c,{className:a}),d.kK(r)?(0,v.Z)(n,y.create):r)}b.handledProps=["as","children","className","items"],b.propTypes={},b.defaultProps={as:"ul"},b.create=(0,p.u5)(b,(function(e){return{items:e}}));var Z=b,N=function(e){function r(){for(var r,s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return(r=e.call.apply(e,[this].concat(t))||this).handleDismiss=function(e){var s=r.props.onDismiss;s&&s(e,r.props)},r}return(0,n.Z)(r,e),r.prototype.render=function(){var e=this.props,s=e.attached,n=e.children,m=e.className,j=e.color,v=e.compact,x=e.content,y=e.error,b=e.floating,N=e.header,w=e.hidden,_=e.icon,C=e.info,T=e.list,S=e.negative,k=e.onDismiss,E=e.positive,O=e.size,G=e.success,R=e.visible,A=e.warning,I=(0,i.Z)("ui",j,O,(0,c.lG)(v,"compact"),(0,c.lG)(y,"error"),(0,c.lG)(b,"floating"),(0,c.lG)(w,"hidden"),(0,c.lG)(_,"icon"),(0,c.lG)(C,"info"),(0,c.lG)(S,"negative"),(0,c.lG)(E,"positive"),(0,c.lG)(G,"success"),(0,c.lG)(R,"visible"),(0,c.lG)(A,"warning"),(0,c.sU)(s,"attached"),"message",m),H=k&&o.createElement(h.Z,{name:"close",onClick:this.handleDismiss}),P=(0,l.Z)(r,this.props),L=(0,u.Z)(r,this.props);return d.kK(n)?o.createElement(L,(0,t.Z)({},P,{className:I}),H,h.Z.create(_,{autoGenerateKey:!1}),(!(0,a.Z)(N)||!(0,a.Z)(x)||!(0,a.Z)(T))&&o.createElement(f,null,g.create(N,{autoGenerateKey:!1}),Z.create(T,{autoGenerateKey:!1}),(0,p.BU)(x,{autoGenerateKey:!1}))):o.createElement(L,(0,t.Z)({},P,{className:I}),H,n)},r}(o.Component);N.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],N.propTypes={},N.Content=f,N.Header=g,N.List=Z,N.Item=y},3871:function(e,r,s){"use strict";s.d(r,{Z:function(){return l}});var t=s(4073),n=s(2456),a=s(820),i=s(585);var o=function(e,r){var s=-1,t=(0,i.Z)(e)?Array(e.length):[];return(0,a.Z)(e,(function(e,n,a){t[++s]=r(e,n,a)})),t},c=s(7771);var l=function(e,r){return((0,c.Z)(e)?t.Z:o)(e,(0,n.Z)(r,3))}}},function(e){e.O(0,[774,351,888,179],(function(){return r=6368,e(e.s=r);var r}));var r=e.O();_N_E=r}]);